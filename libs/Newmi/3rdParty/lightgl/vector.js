function Vector(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}Vector.prototype={negative:function(){return new Vector(-this.x,-this.y,-this.z)},add:function(t){return t instanceof Vector?new Vector(this.x+t.x,this.y+t.y,this.z+t.z):new Vector(this.x+t,this.y+t,this.z+t)},subtract:function(t){return t instanceof Vector?new Vector(this.x-t.x,this.y-t.y,this.z-t.z):new Vector(this.x-t,this.y-t,this.z-t)},multiply:function(t){return t instanceof Vector?new Vector(this.x*t.x,this.y*t.y,this.z*t.z):new Vector(this.x*t,this.y*t,this.z*t)},divide:function(t){return t instanceof Vector?new Vector(this.x/t.x,this.y/t.y,this.z/t.z):new Vector(this.x/t,this.y/t,this.z/t)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){return new Vector(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){return this.divide(this.length())},min:function(){return Math.min(Math.min(this.x,this.y),this.z)},max:function(){return Math.max(Math.max(this.x,this.y),this.z)},toAngles:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}},toArray:function(t){return[this.x,this.y,this.z].slice(0,t||3)},clone:function(){return new Vector(this.x,this.y,this.z)},init:function(t,n,i){return this.x=t,this.y=n,this.z=i,this}},Vector.negative=function(t,n){return n.x=-t.x,n.y=-t.y,n.z=-t.z,n},Vector.add=function(t,n,i){return n instanceof Vector?(i.x=t.x+n.x,i.y=t.y+n.y,i.z=t.z+n.z):(i.x=t.x+n,i.y=t.y+n,i.z=t.z+n),i},Vector.subtract=function(t,n,i){return n instanceof Vector?(i.x=t.x-n.x,i.y=t.y-n.y,i.z=t.z-n.z):(i.x=t.x-n,i.y=t.y-n,i.z=t.z-n),i},Vector.multiply=function(t,n,i){return n instanceof Vector?(i.x=t.x*n.x,i.y=t.y*n.y,i.z=t.z*n.z):(i.x=t.x*n,i.y=t.y*n,i.z=t.z*n),i},Vector.divide=function(t,n,i){return n instanceof Vector?(i.x=t.x/n.x,i.y=t.y/n.y,i.z=t.z/n.z):(i.x=t.x/n,i.y=t.y/n,i.z=t.z/n),i},Vector.cross=function(t,n,i){return i.x=t.y*n.z-t.z*n.y,i.y=t.z*n.x-t.x*n.z,i.z=t.x*n.y-t.y*n.x,i},Vector.unit=function(t,n){var i=t.length();return n.x=t.x/i,n.y=t.y/i,n.z=t.z/i,n},Vector.fromAngles=function(t,n){return new Vector(Math.cos(t)*Math.cos(n),Math.sin(n),Math.sin(t)*Math.cos(n))},Vector.randomDirection=function(){return Vector.fromAngles(Math.random()*Math.PI*2,Math.asin(2*Math.random()-1))},Vector.min=function(t,n){return new Vector(Math.min(t.x,n.x),Math.min(t.y,n.y),Math.min(t.z,n.z))},Vector.max=function(t,n){return new Vector(Math.max(t.x,n.x),Math.max(t.y,n.y),Math.max(t.z,n.z))},Vector.lerp=function(t,n,i){return n.subtract(t).multiply(i).add(t)},Vector.fromArray=function(t){return new Vector(t[0],t[1],t[2])};